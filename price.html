<!DOCTYPE html>
<html lang="ru">

<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Edu+AU+VIC+WA+NT+Dots:wght@400..700&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDK㋛</title>
    <link rel="stylesheet" href="reset.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="stylep.css">
</head>

<body>

    <header>
        <div class="container">

            <div class="iconDes"><img class="icon" src="style/icon.png" alt=""></div>
            <div class="burger">
                <div class="line"></div>
                <div class="line"></div>
                <div class="line"></div>


            </div>
            <div class="menu">
                <ul>
                    <li><a href="index.html">Главная</a></li>
                    <li><a href="price.html">Сервис</a></li>
                    <li><a href="contact.html">Контакты</a></li>
                    <li><a href="about.html">Другое</a></li>
                </ul>
            </div>


            <nav>
                <a href="index.html">Главная</a>
                <a href="price.html">Сервис</a>
                <a href="contact.html">Контакты</a>
                <a href="about.html">Другое</a>
            </nav>
        </div>
    </header>
    <div class="main-fon"> <img src="style/fon-plashka.jpg" alt=""></div>


    <main>
        <div id="grid"></div>

        <div class="container">
            <div class="zagruska">
                <div class="tochka1"></div>
                <div class="tochka2"></div>
                <div class="tochka3"></div>
                <div class="tochka4"></div>
                <div class="tochka5"></div>
                <div class="tochka6"></div>
            </div>
            <div class="winGitHub"></div>
            <div class="gitHub">
                <div class="gName">
                    <h1>GitHub</h1>
                </div>
                <div class="GKrest">✕</div>
                <img src="" alt="">
                <div class="info">
                    <div class="logGit"></div>
                    <div class="nameGit"></div>
                    <div class="bioGit"></div>
                </div>
            </div>
            <div class="name-fon">
                <h1>SERVICES</h1>
            </div>
            <!-- классы отслеживания ползунка -->
            <div class="levo-pols">
                <table class="table">
                    <tbody>
                        <tr>
                            <th>ЗАДАЧА</th>
                            <th>СТОИМОСТЬ</th>
                            <th>СРОКИ</th>
                        </tr>
                        <tr>
                            <td>вёрстка HTML/CSS</td>
                            <td>10000-15000руб</td>
                            <td>15-30 дней</td>
                        </tr>
                        <tr>
                            <td>2D игра С++/С#</td>
                            <td>от 25000руб</td>
                            <td>1-2 месяца</td>
                        </tr>
                        <tr>
                            <td>блинчики</td>
                            <td>50руб/г</td>
                            <td>нет точных сроков</td>
                        </tr>
                        <tr>
                            <td>сборка ПК</td>
                            <td>как пойдет</td>
                            <td>14 дней</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="pravo-pols openS">
                <div class="slider">
                    <button class="sl1">></button>
                </div>
                <ul>
                    <li class="verstka open">
                        <div class="tovar">
                            <img src="style/verstka.png" alt="">
                            <span class="nameT"><b>вёрстка</b>
                                <div class="priceT">
                                    <p>12500₽</p>
                                </div>
                            </span>
                            <span class="crokT">
                                15-30 дней
                                <div class="button">
                                    <button class="zakaz">в корзину</button>
                                </div>
                            </span>
                        </div>
                    </li>
                    <li class="plays">
                        <div class="tovar">
                            <img src="style/2dPlay.jpg" alt="">
                            <span class="nameT"><b>2D игра</b>
                                <div class="priceT">
                                    <p>25000₽</p>
                                </div>
                            </span>
                            <span class="crokT">
                                1-2 месяца
                                <div class="button">
                                    <button class="zakaz">в корзину</button>
                                </div>
                            </span>
                        </div>
                    </li>
                    <li class="blin">
                        <div class="tovar">
                            <img src="style/blinchiki.jpg" alt="">
                            <span class="nameT"><b>блинчики</b>
                                <div class="priceT">
                                    <p>50₽</p>
                                </div>
                            </span>
                            <span class="crokT">
                                нет точных сроков
                                <div class="button">
                                    <button class="zakaz">в корзину</button>
                                </div>
                            </span>
                        </div>
                    </li>
                    <li class="pk">
                        <div class="tovar">
                            <img src="style/sborkaPK.jpg" alt="">
                            <span class="nameT"><b>сборка ПК</b>
                                <div class="priceT">
                                    <p>5000₽</p>
                                </div>
                            </span>
                            <span class="crokT">
                                14 дней
                                <div class="button">
                                    <button class="zakaz">в корзину</button>
                                </div>
                            </span>
                        </div>
                    </li>
                </ul>
            </div>

            <!-- корзина -->
            <div class="menuBacket">
                <h2 style="text-align: center;">Корзина</h2>
                <div class="krestBacket">✕</div>
                <ul id="basketItems"></ul>
                <h3 style="text-align: center;">Итого: <span id="total">0</span> рублей</h3>
                <div class="oformity"><button>офоримть</button></div>
            </div>

    </main>

    <footer>
        <div class="phones">

            <img class="i4" src="style/i4.png" alt="">
            <a href="tel:+79601427765" class="phone">+7(960)142-77-65</a>
        </div>

        <div class="stikMan">
            <img class="stik" src="style/stikMan1.png" alt="">
            <div class="hand"></div>
        </div>

        <div class="socials">
            <a href="tg://resolve?domain=@m1fkaa"><img class="i1" src="style/i1.png" alt=""></a>
            <img class="i2" src="style/i2.png" alt="">
            <div class="ii3">
                <img class="i3" src="style/k3.png" alt="">
                <div class="numbersTovar"></div>

            </div>

        </div>
    </footer>


 

    <script>

        // бургер
        const burger = document.querySelector('.burger');
        const menu = document.querySelector('.menu');

        burger.addEventListener('click', () => {
            burger.classList.toggle('active');
            menu.classList.toggle('active');
        });


        // ползунок
        const iconPols = document.querySelector('.iconDes');
        const mainFon = document.querySelector('.main-fon');
        const navA = document.querySelectorAll('nav a');
        const burgerMenu = document.querySelectorAll('.menu a');
        const levopols = document.querySelector('.levo-pols');
        const pravopols = document.querySelector('.pravo-pols');
        let TemaKV = 0

        iconPols.addEventListener('click', () => {

            iconPols.classList.toggle('blackTema');
            mainFon.classList.toggle('blackTema');
            navA.forEach(element => {
                element.classList.toggle('blackTema');
            });
            burgerMenu.forEach(element => {
                element.classList.toggle('blackTema');
            });

            levopols.classList.toggle('openT');
            pravopols.classList.toggle('openS');
        });

        const sl1 = document.querySelector('.sl1');
        const priceList = document.querySelectorAll('.pravo-pols ul li');
        let index = 0;

        // отображение товара по слайдеру
        sl1.addEventListener('click', () => {
            priceList[index].classList.toggle('open');
            index += 1;
            if (index == 4) {
                index = 0;
            }
            priceList[index].classList.toggle('open');
        });



        // корзина
        const k3 = document.querySelector('.ii3');
        const krestBacket = document.querySelector('.krestBacket');
        const menuBasket = document.querySelector('.menuBacket');
        let opK3 = true;

        k3.addEventListener('click', () => {
            if (opK3) {
                opK3 = false;
                menuBasket.classList.toggle('open');
                k3.classList.toggle('openk3');
                setTimeout(() => {
                    opK3 = true;
                }, 1200)
            }

        });
        // выход из корзины
        krestBacket.addEventListener('click', () => {
            if (opK3) {
                opK3 = false;
                menuBasket.classList.toggle('open');
                k3.classList.toggle('openk3');
                setTimeout(() => {
                    opK3 = true;
                }, 1200)
            }
        });



        // анимация паолета товаров в корзину
        const basketItems = document.querySelector('#basketItems');
        const totalSpan = document.querySelector('#total');
        const btns = document.querySelectorAll('.pravo-pols .button button');
        let total = 0;
        const ii3 = document.querySelector('.ii3');
        const numbersTovar = document.querySelector('.numbersTovar');
        let numberT = 0;

        btns.forEach(button => {
            button.addEventListener('click', function () {

                this.disabled = true;
                this.textContent = "в корзине";
                let prodParent = this.closest('.tovar');
                numberT += 1;
                if (numberT > 0) {
                    setTimeout(() => {
                        numbersTovar.classList.add('numOpen');
                        numbersTovar.innerHTML = numberT;
                    }, 600)
                }
                
                let cloneTovar = prodParent.cloneNode(true);// создание идентичного клона товара
                cloneTovar.style.top = prodParent.getBoundingClientRect().top + 'px';//берерм позицию родителя
                cloneTovar.style.left = prodParent.getBoundingClientRect().left + 'px';

                cloneTovar.classList.add('fly');
                //отображаем клон на странице
                document.body.appendChild(cloneTovar)
                setTimeout(() => {
                    cloneTovar.remove();
                }, 1000);

                let prodName = prodParent.querySelector('.nameT b').textContent;
                let prodPrice = parseInt(prodParent.querySelector('.priceT p').textContent);
                let liBasket = document.createElement('li');
                liBasket.innerHTML = '✕ ' + prodName + ' - ' + prodPrice + ' ' + '₽';

                total += prodPrice;
                totalSpan.innerHTML = total;
                basketItems.append(liBasket);

                liBasket.addEventListener('click', function () {
                    liBasket.remove();
                    numberT -= 1;

                    if (numberT < 1) {
                        numbersTovar.classList.remove('numOpen');
                    }
                    numbersTovar.innerHTML = numberT;
                    total -= prodPrice;
                    totalSpan.innerHTML = total;
                    button.disabled = false;
                    button.textContent = "в корзину";
                })
            })
        })



        
        //оформить товар
        const oformity = document.querySelector('.oformity button');
        let oformityTr = true
        oformity.addEventListener('click', function () {
            if (oformityTr) {
                oformityTr = false
                let oformitySms = document.createElement('p');
                oformitySms.innerHTML = 'олайн оплата временно <br> не доступна, но вы можете <br> воспользоваться переводом <br> по номеру телефона))';
                menuBasket.append(oformitySms);
                setTimeout(function () {
                    oformitySms.innerHTML = '';
                    setTimeout(function () {
                        oformityTr = true
                    }, 500)
                }, 5500)
            }
        })



        //парящий эффект
        let goFunkc = false
        function createProgflake() {

            const progflake = document.createElement('div');
            progflake.className = 'flake';
            if (!goFunkc) {
                clearInterval();
                return;
            }
            progflake.style.color = '#4f4f4f';
            progflake.style.zIndex = 55;

            let iconockkaP = Math.floor(Math.random() * (7 - 1) + 1); // округление до целого Рандомный iconochka
            switch (iconockkaP) {
                case 1: {
                    progflake.textContent = 'C++';
                    break;
                }
                case 2: {
                    progflake.textContent = 'C#';
                    break;
                }
                case 3: {
                    progflake.textContent = 'Python';
                    break;
                }
                case 4: {
                    progflake.textContent = 'Css';
                    break;
                }
                case 5: {
                    progflake.textContent = 'HTML';
                    break;
                }
                case 6: {
                    progflake.textContent = 'JS';
                    break;
                }
                default:
                    break;
            }

            progflake.style.left = Math.random() * window.innerWidth + 'px';
            progflake.style.fontSize = Math.random() * (34 - 10) + 10 + 'px'; // Рандомный размер 
            progflake.style.animationDuration = Math.random() * (5 - 3) + 3 + 's'; // Рандомная скорость падения
            document.body.append(progflake);

            setTimeout(() => {
                progflake.remove();
            }, parseFloat(progflake.style.animationDuration) * 1000);
        }
        setInterval(createProgflake, 60);



        // ГитХаб
        const winGitHub = document.querySelector('.winGitHub');
        const gitHub = document.querySelector('.gitHub');
        const gitHubImg = document.querySelector('.gitHub img');
        const logGit = document.querySelector('.logGit');
        const nameGit = document.querySelector('.nameGit');
        const bioGit = document.querySelector('.bioGit');
        const GKrest = document.querySelector('.GKrest');
        const i2 = document.querySelector('.i2');
        const zagruska = document.querySelector('.zagruska');

        i2.addEventListener('click', () => {
            fetch(('https://api.github.com/users/m1fka'))
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Сеть недоступна, статус: ' + response.status);
                    }
                    else {
                        return response.json()
                    }
                })
                .then(githubUser => {
                    gitHubImg.src = githubUser.avatar_url;
                    logGit.innerHTML = 'Login - ' + githubUser.login + ' (' + githubUser.id + ')';
                    nameGit.innerHTML = 'Name - ' + githubUser.name;
                    bioGit.innerHTML = 'Bio - ' + githubUser.bio;
                    zagruska.classList.add('go');

                    setTimeout(() => {
                        goFunkc = true;
                        zagruska.classList.remove('go');
                        gitHub.classList.add('openG');
                        winGitHub.classList.add('openG');
                        i2.classList.add('openi2');
                    }, 1500)
                });
            GKrest.addEventListener('click', () => {
                goFunkc = false;
                gitHub.classList.remove('openG');
                winGitHub.classList.remove('openG');
                i2.classList.remove('openi2');
            })
        });

        document.addEventListener('mousemove', (e) => {
            const arm = document.querySelector('.hand');
            const armRect = arm.getBoundingClientRect();

            // Положение плеча
            const shoulderX = armRect.left;
            const shoulderY = armRect.top + armRect.height / 2;

            // Вычисляем угол
            const deltaX = e.clientX - shoulderX;
            const deltaY = e.clientY - shoulderY;
            const angle = Math.atan2(deltaY, deltaX) * (180 / Math.PI); // Преобразуем радианы в градусы

            arm.style.transform = `rotate(${angle}deg)`;
        });




        const grid = document.getElementById('grid');
        const hexSize = 45;
        const hexHeight = 70;

        // создание квадратов для сетки
        function createHexagon(x, y) {
            const hex = document.createElement('div');
            hex.classList.add('hex');
            hex.style.left = `${x}px`;
            hex.style.top = `${y}px`;
            grid.appendChild(hex);
        }

        //создание сетки 
        function generateGrid() {
            for (let row = 0; row < window.innerHeight / hexHeight + 1; row++) {
                for (let col = 0; col < window.innerWidth / hexSize + 1; col++) {
                    const x = col * hexSize * 1.5;
                    const y = row * hexHeight + (col % 2) * (hexHeight / 2);
                    createHexagon(x, y);
                }
            }
        }
        generateGrid();


        // отображение сетки вокруг курсора
        document.addEventListener('mousemove', (e) => {
            const x = e.clientX;//координаты курсора
            const y = e.clientY;

            const hexagons = document.querySelectorAll('.hex');
            // координаты квадратов сетки
            hexagons.forEach(hex => {
                const hexRect = hex.getBoundingClientRect();
                const hexCenterX = hexRect.left + hexRect.width / 2;
                const hexCenterY = hexRect.top + hexRect.height / 2;

                const distance = Math.sqrt((hexCenterX - x) ** 2 + (hexCenterY - y) ** 2);
                if (distance < 50) { // Радиус свечения
                    hex.style.boxShadow = '0 0 6px rgba(200, 177, 255, 1)';
                }
                else if (distance < 80) {
                    hex.style.boxShadow = '0 0 4px rgba(200, 177, 255, 0.6)';
                }
                else if (distance < 100) { 
                    hex.style.boxShadow = '0 0 4px rgba(200, 177, 255, 0.3)';
                } else {
                    hex.style.boxShadow = 'none';
                }
            });
        });

        //при выходе курсора из зоны окна
        document.addEventListener('mouseleave', () => {
            grid.style.opacity = 0;
        })

        // чтобы сетка былка ток на 2 части страницы
        iconPols.addEventListener('click', () => {
            grid.style.opacity = 0;

            if (TemaKV == 0) {
                TemaKV = 1;
            }
            else if (TemaKV == 1) {
                TemaKV = 0;
            }
            if (TemaKV == 1) {
                grid.style.opacity = 1;
                document.addEventListener('mouseenter', () => {
                    if (TemaKV == 1) {
                        grid.style.opacity = 1;
                    }
                })
            }
        })

    </script>
</body>

</html>